{"remainingRequest":"C:\\Users\\辛虞\\Desktop\\脚手架vue项目\\blackDonkey\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\辛虞\\Desktop\\脚手架vue项目\\blackDonkey\\src\\utils\\request.js","dependencies":[{"path":"C:\\Users\\辛虞\\Desktop\\脚手架vue项目\\blackDonkey\\src\\utils\\request.js","mtime":1665836276854},{"path":"C:\\Users\\辛虞\\Desktop\\脚手架vue项目\\blackDonkey\\babel.config.js","mtime":1665578302209},{"path":"C:\\Users\\辛虞\\Desktop\\脚手架vue项目\\blackDonkey\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662199701179},{"path":"C:\\Users\\辛虞\\Desktop\\脚手架vue项目\\blackDonkey\\node_modules\\babel-loader\\lib\\index.js","mtime":1661140982816}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgTWVzc2FnZSB9IGZyb20gJ2VsZW1lbnQtdWknOwppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZSc7CmltcG9ydCB7IGdldFRva2VuIH0gZnJvbSAnQC91dGlscy9hdXRoJzsKCi8vIGNyZWF0ZSBhbiBheGlvcyBpbnN0YW5jZQpjb25zdCBpbnN0YW5jZSA9IGF4aW9zLmNyZWF0ZSh7CiAgYmFzZVVSTDogJ2h0dHA6Ly9obW1tLWFwaS5pdGhlaW1hLm5ldC8nLAogIC8vIGFwaeeahGJhc2VfdXJsCiAgdGltZW91dDogNTAwMCAvLyByZXF1ZXN0IHRpbWVvdXQKfSk7CgovLyByZXF1ZXN0IGludGVyY2VwdG9yCmluc3RhbmNlLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShjb25maWcgPT4gewogIC8vIERvIHNvbWV0aGluZyBiZWZvcmUgcmVxdWVzdCBpcyBzZW50CiAgaWYgKHN0b3JlLmdldHRlcnMudG9rZW4pIHsKICAgIGNvbmZpZy5oZWFkZXJzLkF1dGhvcml6YXRpb24gPSBgQmVhcmVyICR7Z2V0VG9rZW4oKX1gOyAvLyDorqnmr4/kuKror7fmsYLmkLrluKZ0b2tlbi0tIFsnWC1Ub2tlbidd5Li66Ieq5a6a5LmJa2V5IOivt+agueaNruWunumZheaDheWGteiHquihjOS/ruaUuQogIH0KCiAgcmV0dXJuIGNvbmZpZzsKfSwgZXJyb3IgPT4gewogIC8vIERvIHNvbWV0aGluZyB3aXRoIHJlcXVlc3QgZXJyb3IKICBjb25zb2xlLmxvZyhlcnJvcik7IC8vIGZvciBkZWJ1ZwogIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7CgovLyByZXNwb25lIGludGVyY2VwdG9yCmluc3RhbmNlLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UocmVzcG9uc2UgPT4gcmVzcG9uc2UsCi8qKg0KICog5LiL6Z2i55qE5rOo6YeK5Li66YCa6L+HcmVzcG9uc2Xoh6rlrprkuYljb2Rl5p2l5qCH56S66K+35rGC54q25oCB77yM5b2TY29kZei/lOWbnuWmguS4i+aDheWGteS4uuadg+mZkOaciemXrumimO+8jOeZu+WHuuW5tui/lOWbnuWIsOeZu+W9lemhtQ0KICog5aaC6YCa6L+HeG1saHR0cHJlcXVlc3Qg54q25oCB56CB5qCH6K+GIOmAu+i+keWPr+WGmeWcqOS4i+mdomVycm9y5LitDQogKi8KLy8gIGNvbnN0IHJlcyA9IHJlc3BvbnNlLmRhdGE7Ci8vICAgICBpZiAocmVzLmNvZGUgIT09IDIwMDAwKSB7Ci8vICAgICAgIE1lc3NhZ2UoewovLyAgICAgICAgIG1lc3NhZ2U6IHJlcy5tZXNzYWdlLAovLyAgICAgICAgIHR5cGU6ICdlcnJvcicsCi8vICAgICAgICAgZHVyYXRpb246IDUgKiAxMDAwCi8vICAgICAgIH0pOwovLyAgICAgICAvLyA1MDAwODrpnZ7ms5XnmoR0b2tlbjsgNTAwMTI65YW25LuW5a6i5oi356uv55m75b2V5LqGOyAgNTAwMTQ6VG9rZW4g6L+H5pyf5LqGOwovLyAgICAgICBpZiAocmVzLmNvZGUgPT09IDUwMDA4IHx8IHJlcy5jb2RlID09PSA1MDAxMiB8fCByZXMuY29kZSA9PT0gNTAwMTQpIHsKLy8gICAgICAgICBNZXNzYWdlQm94LmNvbmZpcm0oJ+S9oOW3suiiq+eZu+WHuu+8jOWPr+S7peWPlua2iOe7p+e7reeVmeWcqOivpemhtemdou+8jOaIluiAhemHjeaWsOeZu+W9lScsICfnoa7lrprnmbvlh7onLCB7Ci8vICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+mHjeaWsOeZu+W9lScsCi8vICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKLy8gICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwovLyAgICAgICAgIH0pLnRoZW4oKCkgPT4gewovLyAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ0ZlZExvZ091dCcpLnRoZW4oKCkgPT4gewovLyAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsvLyDkuLrkuobph43mlrDlrp7kvovljJZ2dWUtcm91dGVy5a+56LGhIOmBv+WFjWJ1ZwovLyAgICAgICAgICAgfSk7Ci8vICAgICAgICAgfSkKLy8gICAgICAgfQovLyAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ2Vycm9yJyk7Ci8vICAgICB9IGVsc2UgewovLyAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKLy8gICAgIH0KZXJyb3IgPT4gewogIGNvbnNvbGUubG9nKCdlcnInICsgZXJyb3IpOyAvLyBmb3IgZGVidWcKICBNZXNzYWdlKHsKICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsCiAgICB0eXBlOiAnZXJyb3InLAogICAgZHVyYXRpb246IDUgKiAxMDAwCiAgfSk7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7CmV4cG9ydCBjb25zdCBjcmVhdGVBUEkgPSAodXJsLCBtZXRob2QsIGRhdGEpID0+IHsKICBjb25zdCBjb25maWcgPSB7fTsKICBpZiAobWV0aG9kID09PSAnZ2V0JykgewogICAgY29uZmlnLnBhcmFtcyA9IGRhdGE7CiAgfSBlbHNlIHsKICAgIGNvbmZpZy5kYXRhID0gZGF0YTsKICB9CiAgcmV0dXJuIGluc3RhbmNlKHsKICAgIHVybCwKICAgIG1ldGhvZCwKICAgIC4uLmNvbmZpZwogIH0pOwp9OwpleHBvcnQgY29uc3QgY3JlYXRlRm9ybUFQSSA9ICh1cmwsIG1ldGhvZCwgZGF0YSkgPT4gewogIGNvbnN0IGNvbmZpZyA9IHt9OwogIGNvbmZpZy5kYXRhID0gZGF0YTsKICBjb25maWcuaGVhZGVycyA9IHsKICAgICdDYWNoZS1Db250cm9sJzogJ25vLWNhY2hlJywKICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJwogIH07CiAgY29uZmlnLnJlc3BvbnNlVHlwZSA9ICdqc29uJzsKICBjb25maWcudHJhbnNmb3JtUmVxdWVzdCA9IFtmdW5jdGlvbiAoZGF0YSkgewogICAgbGV0IHJldCA9ICcnOwogICAgZm9yIChjb25zdCBpdCBpbiBkYXRhKSB7CiAgICAgIHJldCArPSBlbmNvZGVVUklDb21wb25lbnQoaXQpICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KGRhdGFbaXRdKSArICcmJzsKICAgIH0KICAgIHJldHVybiByZXQ7CiAgfV07CiAgcmV0dXJuIGluc3RhbmNlKHsKICAgIHVybCwKICAgIG1ldGhvZCwKICAgIC4uLmNvbmZpZwogIH0pOwp9Ow=="},{"version":3,"names":["axios","Message","store","getToken","instance","create","baseURL","timeout","interceptors","request","use","config","getters","token","headers","Authorization","error","console","log","Promise","reject","response","message","type","duration","createAPI","url","method","data","params","createFormAPI","responseType","transformRequest","ret","it","encodeURIComponent"],"sources":["C:/Users/辛虞/Desktop/脚手架vue项目/blackDonkey/src/utils/request.js"],"sourcesContent":["import axios from 'axios'\r\nimport { Message } from 'element-ui'\r\nimport store from '@/store'\r\nimport { getToken } from '@/utils/auth'\r\n\r\n// create an axios instance\r\nconst instance = axios.create({\r\n  baseURL: 'http://hmmm-api.itheima.net/', // api的base_url\r\n  timeout: 5000 // request timeout\r\n})\r\n\r\n// request interceptor\r\ninstance.interceptors.request.use(\r\n  config => {\r\n    // Do something before request is sent\r\n    if (store.getters.token) {\r\n      config.headers.Authorization = `Bearer ${getToken()}` // 让每个请求携带token-- ['X-Token']为自定义key 请根据实际情况自行修改\r\n    }\r\n    return config\r\n  },\r\n  error => {\r\n    // Do something with request error\r\n    console.log(error) // for debug\r\n    Promise.reject(error)\r\n  }\r\n)\r\n\r\n// respone interceptor\r\ninstance.interceptors.response.use(\r\n  response => response,\r\n  /**\r\n   * 下面的注释为通过response自定义code来标示请求状态，当code返回如下情况为权限有问题，登出并返回到登录页\r\n   * 如通过xmlhttprequest 状态码标识 逻辑可写在下面error中\r\n   */\r\n  //  const res = response.data;\r\n  //     if (res.code !== 20000) {\r\n  //       Message({\r\n  //         message: res.message,\r\n  //         type: 'error',\r\n  //         duration: 5 * 1000\r\n  //       });\r\n  //       // 50008:非法的token; 50012:其他客户端登录了;  50014:Token 过期了;\r\n  //       if (res.code === 50008 || res.code === 50012 || res.code === 50014) {\r\n  //         MessageBox.confirm('你已被登出，可以取消继续留在该页面，或者重新登录', '确定登出', {\r\n  //           confirmButtonText: '重新登录',\r\n  //           cancelButtonText: '取消',\r\n  //           type: 'warning'\r\n  //         }).then(() => {\r\n  //           store.dispatch('FedLogOut').then(() => {\r\n  //             location.reload();// 为了重新实例化vue-router对象 避免bug\r\n  //           });\r\n  //         })\r\n  //       }\r\n  //       return Promise.reject('error');\r\n  //     } else {\r\n  //       return response.data;\r\n  //     }\r\n  error => {\r\n    console.log('err' + error) // for debug\r\n    Message({\r\n      message: error.message,\r\n      type: 'error',\r\n      duration: 5 * 1000\r\n    })\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\nexport const createAPI = (url, method, data) => {\r\n  const config = {}\r\n  if (method === 'get') {\r\n    config.params = data\r\n  } else {\r\n    config.data = data\r\n  }\r\n  return instance({\r\n    url,\r\n    method,\r\n    ...config\r\n  })\r\n}\r\n\r\nexport const createFormAPI = (url, method, data) => {\r\n  const config = {}\r\n  config.data = data\r\n  config.headers = {\r\n    'Cache-Control': 'no-cache',\r\n    'Content-Type': 'application/x-www-form-urlencoded'\r\n  }\r\n  config.responseType = 'json'\r\n  config.transformRequest = [\r\n    function (data) {\r\n      let ret = ''\r\n      for (const it in data) {\r\n        ret += encodeURIComponent(it) + '=' + encodeURIComponent(data[it]) + '&'\r\n      }\r\n      return ret\r\n    }\r\n  ]\r\n  return instance({\r\n    url,\r\n    method,\r\n    ...config\r\n  })\r\n}\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,QAAQ,YAAY;AACpC,OAAOC,KAAK,MAAM,SAAS;AAC3B,SAASC,QAAQ,QAAQ,cAAc;;AAEvC;AACA,MAAMC,QAAQ,GAAGJ,KAAK,CAACK,MAAM,CAAC;EAC5BC,OAAO,EAAE,8BAA8B;EAAE;EACzCC,OAAO,EAAE,IAAI,CAAC;AAChB,CAAC,CAAC;;AAEF;AACAH,QAAQ,CAACI,YAAY,CAACC,OAAO,CAACC,GAAG,CAC/BC,MAAM,IAAI;EACR;EACA,IAAIT,KAAK,CAACU,OAAO,CAACC,KAAK,EAAE;IACvBF,MAAM,CAACG,OAAO,CAACC,aAAa,GAAI,UAASZ,QAAQ,EAAG,EAAC,EAAC;EACxD;;EACA,OAAOQ,MAAM;AACf,CAAC,EACDK,KAAK,IAAI;EACP;EACAC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,EAAC;EACnBG,OAAO,CAACC,MAAM,CAACJ,KAAK,CAAC;AACvB,CAAC,CACF;;AAED;AACAZ,QAAQ,CAACI,YAAY,CAACa,QAAQ,CAACX,GAAG,CAChCW,QAAQ,IAAIA,QAAQ;AACpB;AACF;AACA;AACA;AACE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAL,KAAK,IAAI;EACPC,OAAO,CAACC,GAAG,CAAC,KAAK,GAAGF,KAAK,CAAC,EAAC;EAC3Bf,OAAO,CAAC;IACNqB,OAAO,EAAEN,KAAK,CAACM,OAAO;IACtBC,IAAI,EAAE,OAAO;IACbC,QAAQ,EAAE,CAAC,GAAG;EAChB,CAAC,CAAC;EACF,OAAOL,OAAO,CAACC,MAAM,CAACJ,KAAK,CAAC;AAC9B,CAAC,CACF;AAED,OAAO,MAAMS,SAAS,GAAG,CAACC,GAAG,EAAEC,MAAM,EAAEC,IAAI,KAAK;EAC9C,MAAMjB,MAAM,GAAG,CAAC,CAAC;EACjB,IAAIgB,MAAM,KAAK,KAAK,EAAE;IACpBhB,MAAM,CAACkB,MAAM,GAAGD,IAAI;EACtB,CAAC,MAAM;IACLjB,MAAM,CAACiB,IAAI,GAAGA,IAAI;EACpB;EACA,OAAOxB,QAAQ,CAAC;IACdsB,GAAG;IACHC,MAAM;IACN,GAAGhB;EACL,CAAC,CAAC;AACJ,CAAC;AAED,OAAO,MAAMmB,aAAa,GAAG,CAACJ,GAAG,EAAEC,MAAM,EAAEC,IAAI,KAAK;EAClD,MAAMjB,MAAM,GAAG,CAAC,CAAC;EACjBA,MAAM,CAACiB,IAAI,GAAGA,IAAI;EAClBjB,MAAM,CAACG,OAAO,GAAG;IACf,eAAe,EAAE,UAAU;IAC3B,cAAc,EAAE;EAClB,CAAC;EACDH,MAAM,CAACoB,YAAY,GAAG,MAAM;EAC5BpB,MAAM,CAACqB,gBAAgB,GAAG,CACxB,UAAUJ,IAAI,EAAE;IACd,IAAIK,GAAG,GAAG,EAAE;IACZ,KAAK,MAAMC,EAAE,IAAIN,IAAI,EAAE;MACrBK,GAAG,IAAIE,kBAAkB,CAACD,EAAE,CAAC,GAAG,GAAG,GAAGC,kBAAkB,CAACP,IAAI,CAACM,EAAE,CAAC,CAAC,GAAG,GAAG;IAC1E;IACA,OAAOD,GAAG;EACZ,CAAC,CACF;EACD,OAAO7B,QAAQ,CAAC;IACdsB,GAAG;IACHC,MAAM;IACN,GAAGhB;EACL,CAAC,CAAC;AACJ,CAAC"}]}