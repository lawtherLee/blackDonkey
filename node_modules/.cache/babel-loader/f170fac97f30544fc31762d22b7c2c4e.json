{"remainingRequest":"C:\\Users\\辛虞\\Desktop\\脚手架vue项目\\blackDonkey\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\辛虞\\Desktop\\脚手架vue项目\\blackDonkey\\src\\module-dashboard\\store\\permission.js","dependencies":[{"path":"C:\\Users\\辛虞\\Desktop\\脚手架vue项目\\blackDonkey\\src\\module-dashboard\\store\\permission.js","mtime":1665578302313},{"path":"C:\\Users\\辛虞\\Desktop\\脚手架vue项目\\blackDonkey\\babel.config.js","mtime":1665578302209},{"path":"C:\\Users\\辛虞\\Desktop\\脚手架vue项目\\blackDonkey\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662199701179},{"path":"C:\\Users\\辛虞\\Desktop\\脚手架vue项目\\blackDonkey\\node_modules\\babel-loader\\lib\\index.js","mtime":1661140982816}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgYXN5bmNSb3V0ZXJNYXAsIGNvbnN0YW50Um91dGVyTWFwIH0gZnJvbSAnQC9yb3V0ZXInOwppbXBvcnQgeyBoYXNQZXJtaXNzaW9uT2ZSb3V0ZU5hbWUgfSBmcm9tICdAL3V0aWxzL3Blcm1pc3Npb24nOwpjb25zdCBwZXJtaXNzaW9uID0gewogIHN0YXRlOiB7CiAgICByb3V0ZXJzOiBjb25zdGFudFJvdXRlck1hcCwKICAgIGFkZFJvdXRlcnM6IFtdCiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIFNFVF9ST1VURVJTOiAoc3RhdGUsIHJvdXRlcnMpID0+IHsKICAgICAgc3RhdGUuYWRkUm91dGVycyA9IHJvdXRlcnM7CiAgICAgIHN0YXRlLnJvdXRlcnMgPSBjb25zdGFudFJvdXRlck1hcC5jb25jYXQocm91dGVycyk7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBHZW5lcmF0ZVJvdXRlcyh7CiAgICAgIGNvbW1pdAogICAgfSwgZGF0YSkgewogICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICAgICAgLy8vIOWKqOaAgei3r+eUsQogICAgICAgIC8vLyDlhoXpg6jlh73mlbDpgJLlvZLot6/nlLEg562b6YCJ6ZyA6KaB55qE5pWw5o2uCiAgICAgICAgLy8gZnVuY3Rpb24gZmlsdGVyQXN5bmNSb3V0ZXIocm91dGVycykgewogICAgICAgIC8vICAgcmV0dXJuIHJvdXRlcnMuZmlsdGVyKHJvdXRlID0+IHsKICAgICAgICAvLyAgICAgaWYgKGhhc1Blcm1pc3Npb25PZlJvdXRlTmFtZShyb3V0ZS5uYW1lKSkgewogICAgICAgIC8vICAgICAgIGlmIChyb3V0ZS5jaGlsZHJlbiAmJiByb3V0ZS5jaGlsZHJlbi5sZW5ndGgpIHsKICAgICAgICAvLyAgICAgICAgIHJvdXRlLmNoaWxkcmVuID0gZmlsdGVyQXN5bmNSb3V0ZXIocm91dGUuY2hpbGRyZW4pCiAgICAgICAgLy8gICAgICAgfQogICAgICAgIC8vICAgICAgIHJldHVybiB0cnVlCiAgICAgICAgLy8gICAgIH0gZWxzZSB7CiAgICAgICAgLy8gICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgLy8gICAgIH0KICAgICAgICAvLyAgIH0pCiAgICAgICAgLy8gfQogICAgICAgIC8vIGxldCBhY2Nlc3NlZFJvdXRlcnMgPSBmaWx0ZXJBc3luY1JvdXRlcihhc3luY1JvdXRlck1hcCkKICAgICAgICAvLyBjb21taXQoJ1NFVF9ST1VURVJTJywgYWNjZXNzZWRSb3V0ZXJzKQoKICAgICAgICBjb21taXQoJ1NFVF9ST1VURVJTJywgYXN5bmNSb3V0ZXJNYXApOwogICAgICAgIHJlc29sdmUoKTsKICAgICAgfSk7CiAgICB9CiAgfQp9OwpleHBvcnQgZGVmYXVsdCBwZXJtaXNzaW9uOw=="},{"version":3,"names":["asyncRouterMap","constantRouterMap","hasPermissionOfRouteName","permission","state","routers","addRouters","mutations","SET_ROUTERS","concat","actions","GenerateRoutes","commit","data","Promise","resolve"],"sources":["C:/Users/辛虞/Desktop/脚手架vue项目/blackDonkey/src/module-dashboard/store/permission.js"],"sourcesContent":["import { asyncRouterMap, constantRouterMap } from '@/router'\r\nimport { hasPermissionOfRouteName } from '@/utils/permission'\r\n\r\nconst permission = {\r\n  state: {\r\n    routers: constantRouterMap,\r\n    addRouters: []\r\n  },\r\n  mutations: {\r\n    SET_ROUTERS: (state, routers) => {\r\n      state.addRouters = routers\r\n      state.routers = constantRouterMap.concat(routers)\r\n    }\r\n  },\r\n  actions: {\r\n    GenerateRoutes ({ commit }, data) {\r\n      return new Promise(resolve => {\r\n        /// 动态路由\r\n        /// 内部函数递归路由 筛选需要的数据\r\n        // function filterAsyncRouter(routers) {\r\n        //   return routers.filter(route => {\r\n        //     if (hasPermissionOfRouteName(route.name)) {\r\n        //       if (route.children && route.children.length) {\r\n        //         route.children = filterAsyncRouter(route.children)\r\n        //       }\r\n        //       return true\r\n        //     } else {\r\n        //       return false\r\n        //     }\r\n        //   })\r\n        // }\r\n        // let accessedRouters = filterAsyncRouter(asyncRouterMap)\r\n        // commit('SET_ROUTERS', accessedRouters)\r\n\r\n        commit('SET_ROUTERS', asyncRouterMap)\r\n        resolve()\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\nexport default permission\r\n"],"mappings":"AAAA,SAASA,cAAc,EAAEC,iBAAiB,QAAQ,UAAU;AAC5D,SAASC,wBAAwB,QAAQ,oBAAoB;AAE7D,MAAMC,UAAU,GAAG;EACjBC,KAAK,EAAE;IACLC,OAAO,EAAEJ,iBAAiB;IAC1BK,UAAU,EAAE;EACd,CAAC;EACDC,SAAS,EAAE;IACTC,WAAW,EAAE,CAACJ,KAAK,EAAEC,OAAO,KAAK;MAC/BD,KAAK,CAACE,UAAU,GAAGD,OAAO;MAC1BD,KAAK,CAACC,OAAO,GAAGJ,iBAAiB,CAACQ,MAAM,CAACJ,OAAO,CAAC;IACnD;EACF,CAAC;EACDK,OAAO,EAAE;IACPC,cAAc,CAAE;MAAEC;IAAO,CAAC,EAAEC,IAAI,EAAE;MAChC,OAAO,IAAIC,OAAO,CAACC,OAAO,IAAI;QAC5B;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEAH,MAAM,CAAC,aAAa,EAAEZ,cAAc,CAAC;QACrCe,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;EACF;AACF,CAAC;AAED,eAAeZ,UAAU"}]}