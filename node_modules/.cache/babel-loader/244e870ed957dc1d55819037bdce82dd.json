{"remainingRequest":"C:\\Users\\辛虞\\Desktop\\脚手架vue项目\\blackDonkey\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\辛虞\\Desktop\\脚手架vue项目\\blackDonkey\\src\\module-dashboard\\store\\user.js","dependencies":[{"path":"C:\\Users\\辛虞\\Desktop\\脚手架vue项目\\blackDonkey\\src\\module-dashboard\\store\\user.js","mtime":1665578302315},{"path":"C:\\Users\\辛虞\\Desktop\\脚手架vue项目\\blackDonkey\\babel.config.js","mtime":1665578302209},{"path":"C:\\Users\\辛虞\\Desktop\\脚手架vue项目\\blackDonkey\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662199701179},{"path":"C:\\Users\\辛虞\\Desktop\\脚手架vue项目\\blackDonkey\\node_modules\\babel-loader\\lib\\index.js","mtime":1661140982816}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgbG9naW4sIGxvZ291dCwgcHJvZmlsZSB9IGZyb20gJ0AvYXBpL2Jhc2UvZnJhbWUnOwppbXBvcnQgeyBnZXRUb2tlbiwgc2V0VG9rZW4sIHJlbW92ZVRva2VuIH0gZnJvbSAnQC91dGlscy9hdXRoJzsKY29uc3QgdXNlciA9IHsKICBzdGF0ZTogewogICAgdXNlcjogJycsCiAgICBzdGF0dXM6ICcnLAogICAgY29kZTogJycsCiAgICB0b2tlbjogZ2V0VG9rZW4oKSwKICAgIG5hbWU6ICcnLAogICAgYXZhdGFyOiAnJywKICAgIGludHJvZHVjdGlvbjogJycsCiAgICByb2xlczogW10sCiAgICBzZXR0aW5nOiB7CiAgICAgIGFydGljbGVQbGF0Zm9ybTogW10KICAgIH0KICB9LAogIG11dGF0aW9uczogewogICAgU0VUX0NPREU6IChzdGF0ZSwgY29kZSkgPT4gewogICAgICBzdGF0ZS5jb2RlID0gY29kZTsKICAgIH0sCiAgICBTRVRfVE9LRU46IChzdGF0ZSwgdG9rZW4pID0+IHsKICAgICAgc3RhdGUudG9rZW4gPSB0b2tlbjsKICAgIH0sCiAgICBTRVRfSU5UUk9EVUNUSU9OOiAoc3RhdGUsIGludHJvZHVjdGlvbikgPT4gewogICAgICBzdGF0ZS5pbnRyb2R1Y3Rpb24gPSBpbnRyb2R1Y3Rpb247CiAgICB9LAogICAgU0VUX1NFVFRJTkc6IChzdGF0ZSwgc2V0dGluZykgPT4gewogICAgICBzdGF0ZS5zZXR0aW5nID0gc2V0dGluZzsKICAgIH0sCiAgICBTRVRfU1RBVFVTOiAoc3RhdGUsIHN0YXR1cykgPT4gewogICAgICBzdGF0ZS5zdGF0dXMgPSBzdGF0dXM7CiAgICB9LAogICAgU0VUX05BTUU6IChzdGF0ZSwgbmFtZSkgPT4gewogICAgICBzdGF0ZS5uYW1lID0gbmFtZTsKICAgIH0sCiAgICBTRVRfQVZBVEFSOiAoc3RhdGUsIGF2YXRhcikgPT4gewogICAgICBzdGF0ZS5hdmF0YXIgPSBhdmF0YXIgfHwgJyc7CiAgICB9LAogICAgU0VUX1JPTEVTOiAoc3RhdGUsIHJvbGVzKSA9PiB7CiAgICAgIHN0YXRlLnJvbGVzID0gcm9sZXM7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICAvLyDnlKjmiLflkI3nmbvlvZUKICAgIExvZ2luQnlVc2VybmFtZSh7CiAgICAgIGNvbW1pdAogICAgfSwgdXNlckluZm8pIHsKICAgICAgY29uc3QgdXNlcm5hbWUgPSB1c2VySW5mby51c2VybmFtZS50cmltKCk7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAgICAgbG9naW4oewogICAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLAogICAgICAgICAgcGFzc3dvcmQ6IHVzZXJJbmZvLnBhc3N3b3JkCiAgICAgICAgfSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICBjb25zdCBkYXRhID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgIGNvbW1pdCgnU0VUX1RPS0VOJywgZGF0YS50b2tlbik7CiAgICAgICAgICBzZXRUb2tlbihyZXNwb25zZS5kYXRhLnRva2VuKTsKICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDojrflj5bnlKjmiLfkv6Hmga8KICAgIEdldFVzZXJJbmZvKHsKICAgICAgY29tbWl0LAogICAgICBzdGF0ZQogICAgfSkgewogICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICAgIHByb2ZpbGUoKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgIGNvbnN0IGRhdGEgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgY29tbWl0KCdTRVRfUk9MRVMnLCBkYXRhLnJvbGVzKTsgLy8g5p2D6ZmQ5pWw57uEIHJvbGVzCiAgICAgICAgICBjb21taXQoJ1NFVF9OQU1FJywgZGF0YS5uYW1lKTsKICAgICAgICAgIGNvbW1pdCgnU0VUX0FWQVRBUicsIGRhdGEuYXZhdGFyKTsKICAgICAgICAgIGNvbW1pdCgnU0VUX0lOVFJPRFVDVElPTicsIGRhdGEuaW50cm9kdWN0aW9uKTsKICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpOwogICAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOesrOS4ieaWuemqjOivgeeZu+W9lQogICAgLy8gTG9naW5CeVRoaXJkcGFydHkoeyBjb21taXQsIHN0YXRlIH0sIGNvZGUpIHsKICAgIC8vICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgIC8vICAgICBjb21taXQoJ1NFVF9DT0RFJywgY29kZSkKICAgIC8vICAgICBsb2dpbkJ5VGhpcmRwYXJ0eShzdGF0ZS5zdGF0dXMsIHN0YXRlLmVtYWlsLCBzdGF0ZS5jb2RlKS50aGVuKHJlc3BvbnNlID0+IHsKICAgIC8vICAgICAgIGNvbW1pdCgnU0VUX1RPS0VOJywgcmVzcG9uc2UuZGF0YS50b2tlbikKICAgIC8vICAgICAgIHNldFRva2VuKHJlc3BvbnNlLmRhdGEudG9rZW4pCiAgICAvLyAgICAgICByZXNvbHZlKCkKICAgIC8vICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAvLyAgICAgICByZWplY3QoZXJyb3IpCiAgICAvLyAgICAgfSkKICAgIC8vICAgfSkKICAgIC8vIH0sCgogICAgLy8g55m75Ye6CiAgICBMb2dPdXQoewogICAgICBjb21taXQsCiAgICAgIHN0YXRlCiAgICB9KSB7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAgICAgbG9nb3V0KCkudGhlbigoKSA9PiB7CiAgICAgICAgICBjb21taXQoJ1NFVF9UT0tFTicsICcnKTsKICAgICAgICAgIGNvbW1pdCgnU0VUX1JPTEVTJywgW10pOwogICAgICAgICAgcmVtb3ZlVG9rZW4oKTsKICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDliY3nq68g55m75Ye6CiAgICBGZWRMb2dPdXQoewogICAgICBjb21taXQKICAgIH0pIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gewogICAgICAgIGNvbW1pdCgnU0VUX1RPS0VOJywgJycpOwogICAgICAgIHJlbW92ZVRva2VuKCk7CiAgICAgICAgcmVzb2x2ZSgpOwogICAgICB9KTsKICAgIH0KICB9Cn07CmV4cG9ydCBkZWZhdWx0IHVzZXI7"},{"version":3,"names":["login","logout","profile","getToken","setToken","removeToken","user","state","status","code","token","name","avatar","introduction","roles","setting","articlePlatform","mutations","SET_CODE","SET_TOKEN","SET_INTRODUCTION","SET_SETTING","SET_STATUS","SET_NAME","SET_AVATAR","SET_ROLES","actions","LoginByUsername","commit","userInfo","username","trim","Promise","resolve","reject","password","then","response","data","catch","error","GetUserInfo","LogOut","FedLogOut"],"sources":["C:/Users/辛虞/Desktop/脚手架vue项目/blackDonkey/src/module-dashboard/store/user.js"],"sourcesContent":["import { login, logout, profile } from '@/api/base/frame'\r\nimport { getToken, setToken, removeToken } from '@/utils/auth'\r\n\r\nconst user = {\r\n  state: {\r\n    user: '',\r\n    status: '',\r\n    code: '',\r\n    token: getToken(),\r\n    name: '',\r\n    avatar: '',\r\n    introduction: '',\r\n    roles: [],\r\n    setting: {\r\n      articlePlatform: []\r\n    }\r\n  },\r\n\r\n  mutations: {\r\n    SET_CODE: (state, code) => {\r\n      state.code = code\r\n    },\r\n    SET_TOKEN: (state, token) => {\r\n      state.token = token\r\n    },\r\n    SET_INTRODUCTION: (state, introduction) => {\r\n      state.introduction = introduction\r\n    },\r\n    SET_SETTING: (state, setting) => {\r\n      state.setting = setting\r\n    },\r\n    SET_STATUS: (state, status) => {\r\n      state.status = status\r\n    },\r\n    SET_NAME: (state, name) => {\r\n      state.name = name\r\n    },\r\n    SET_AVATAR: (state, avatar) => {\r\n      state.avatar = avatar || ''\r\n    },\r\n    SET_ROLES: (state, roles) => {\r\n      state.roles = roles\r\n    }\r\n  },\r\n\r\n  actions: {\r\n    // 用户名登录\r\n    LoginByUsername ({ commit }, userInfo) {\r\n      const username = userInfo.username.trim()\r\n      return new Promise((resolve, reject) => {\r\n        login({\r\n          username: username,\r\n          password: userInfo.password\r\n        }).then(response => {\r\n          const data = response.data\r\n          commit('SET_TOKEN', data.token)\r\n          setToken(response.data.token)\r\n          resolve()\r\n        }).catch(error => {\r\n          reject(error)\r\n        })\r\n      })\r\n    },\r\n\r\n    // 获取用户信息\r\n    GetUserInfo ({ commit, state }) {\r\n      return new Promise((resolve, reject) => {\r\n        profile().then(response => {\r\n          const data = response.data\r\n          commit('SET_ROLES', data.roles) // 权限数组 roles\r\n          commit('SET_NAME', data.name)\r\n          commit('SET_AVATAR', data.avatar)\r\n          commit('SET_INTRODUCTION', data.introduction)\r\n          resolve(response)\r\n        }).catch(error => {\r\n          reject(error)\r\n        })\r\n      })\r\n    },\r\n\r\n    // 第三方验证登录\r\n    // LoginByThirdparty({ commit, state }, code) {\r\n    //   return new Promise((resolve, reject) => {\r\n    //     commit('SET_CODE', code)\r\n    //     loginByThirdparty(state.status, state.email, state.code).then(response => {\r\n    //       commit('SET_TOKEN', response.data.token)\r\n    //       setToken(response.data.token)\r\n    //       resolve()\r\n    //     }).catch(error => {\r\n    //       reject(error)\r\n    //     })\r\n    //   })\r\n    // },\r\n\r\n    // 登出\r\n    LogOut ({ commit, state }) {\r\n      return new Promise((resolve, reject) => {\r\n        logout().then(() => {\r\n          commit('SET_TOKEN', '')\r\n          commit('SET_ROLES', [])\r\n          removeToken()\r\n          resolve()\r\n        }).catch(error => {\r\n          reject(error)\r\n        })\r\n      })\r\n    },\r\n\r\n    // 前端 登出\r\n    FedLogOut ({ commit }) {\r\n      return new Promise(resolve => {\r\n        commit('SET_TOKEN', '')\r\n        removeToken()\r\n        resolve()\r\n      })\r\n    }\r\n\r\n  }\r\n}\r\n\r\nexport default user\r\n"],"mappings":"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"}]}