{"remainingRequest":"C:\\Users\\cswnb\\Desktop\\团队实战2\\黑马mm\\新建文件夹\\blackDonkey\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\cswnb\\Desktop\\团队实战2\\黑马mm\\新建文件夹\\blackDonkey\\src\\utils\\request.js","dependencies":[{"path":"C:\\Users\\cswnb\\Desktop\\团队实战2\\黑马mm\\新建文件夹\\blackDonkey\\src\\utils\\request.js","mtime":1665999001893},{"path":"C:\\Users\\cswnb\\Desktop\\团队实战2\\黑马mm\\新建文件夹\\blackDonkey\\babel.config.js","mtime":1665624703491},{"path":"C:\\Users\\cswnb\\Desktop\\团队实战2\\黑马mm\\新建文件夹\\blackDonkey\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662199364782},{"path":"C:\\Users\\cswnb\\Desktop\\团队实战2\\黑马mm\\新建文件夹\\blackDonkey\\node_modules\\babel-loader\\lib\\index.js","mtime":1661002960898}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgTWVzc2FnZSB9IGZyb20gJ2VsZW1lbnQtdWknOwppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZSc7CmltcG9ydCB7IGdldFRva2VuIH0gZnJvbSAnQC91dGlscy9hdXRoJzsKCi8vIGNyZWF0ZSBhbiBheGlvcyBpbnN0YW5jZQpjb25zdCBpbnN0YW5jZSA9IGF4aW9zLmNyZWF0ZSh7CiAgYmFzZVVSTDogJ2h0dHA6Ly9saXVmdXNvbmcudG9wOjcwMDEvJywKICAvLyBhcGnnmoRiYXNlX3VybCAKICAvLyDCoGJhc2VVUkw6ICdodHRwOi8vaG1tbS1hcGkuaXRoZWltYS5uZXQvJywKICB0aW1lb3V0OiA1MDAwIC8vIHJlcXVlc3QgdGltZW91dAp9KTsKCi8vIHJlcXVlc3QgaW50ZXJjZXB0b3IKaW5zdGFuY2UuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGNvbmZpZyA9PiB7CiAgLy8gRG8gc29tZXRoaW5nIGJlZm9yZSByZXF1ZXN0IGlzIHNlbnQKICBpZiAoc3RvcmUuZ2V0dGVycy50b2tlbikgewogICAgY29uZmlnLmhlYWRlcnMuQXV0aG9yaXphdGlvbiA9IGBCZWFyZXIgJHtnZXRUb2tlbigpfWA7IC8vIOiuqeavj+S4quivt+axguaQuuW4pnRva2VuLS0gWydYLVRva2VuJ13kuLroh6rlrprkuYlrZXkg6K+35qC55o2u5a6e6ZmF5oOF5Ya16Ieq6KGM5L+u5pS5CiAgfQoKICByZXR1cm4gY29uZmlnOwp9LCBlcnJvciA9PiB7CiAgLy8gRG8gc29tZXRoaW5nIHdpdGggcmVxdWVzdCBlcnJvcgogIGNvbnNvbGUubG9nKGVycm9yKTsgLy8gZm9yIGRlYnVnCiAgUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsKCi8vIHJlc3BvbmUgaW50ZXJjZXB0b3IKaW5zdGFuY2UuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShyZXNwb25zZSA9PiByZXNwb25zZSwKLyoqDQogKiDkuIvpnaLnmoTms6jph4rkuLrpgJrov4dyZXNwb25zZeiHquWumuS5iWNvZGXmnaXmoIfnpLror7fmsYLnirbmgIHvvIzlvZNjb2Rl6L+U5Zue5aaC5LiL5oOF5Ya15Li65p2D6ZmQ5pyJ6Zeu6aKY77yM55m75Ye65bm26L+U5Zue5Yiw55m75b2V6aG1DQogKiDlpoLpgJrov4d4bWxodHRwcmVxdWVzdCDnirbmgIHnoIHmoIfor4Yg6YC76L6R5Y+v5YaZ5Zyo5LiL6Z2iZXJyb3LkuK0NCiAqLwovLyAgY29uc3QgcmVzID0gcmVzcG9uc2UuZGF0YTsKLy8gICAgIGlmIChyZXMuY29kZSAhPT0gMjAwMDApIHsKLy8gICAgICAgTWVzc2FnZSh7Ci8vICAgICAgICAgbWVzc2FnZTogcmVzLm1lc3NhZ2UsCi8vICAgICAgICAgdHlwZTogJ2Vycm9yJywKLy8gICAgICAgICBkdXJhdGlvbjogNSAqIDEwMDAKLy8gICAgICAgfSk7Ci8vICAgICAgIC8vIDUwMDA4OumdnuazleeahHRva2VuOyA1MDAxMjrlhbbku5blrqLmiLfnq6/nmbvlvZXkuoY7ICA1MDAxNDpUb2tlbiDov4fmnJ/kuoY7Ci8vICAgICAgIGlmIChyZXMuY29kZSA9PT0gNTAwMDggfHwgcmVzLmNvZGUgPT09IDUwMDEyIHx8IHJlcy5jb2RlID09PSA1MDAxNCkgewovLyAgICAgICAgIE1lc3NhZ2VCb3guY29uZmlybSgn5L2g5bey6KKr55m75Ye677yM5Y+v5Lul5Y+W5raI57un57ut55WZ5Zyo6K+l6aG16Z2i77yM5oiW6ICF6YeN5paw55m75b2VJywgJ+ehruWumueZu+WHuicsIHsKLy8gICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn6YeN5paw55m75b2VJywKLy8gICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAovLyAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCi8vICAgICAgICAgfSkudGhlbigoKSA9PiB7Ci8vICAgICAgICAgICBzdG9yZS5kaXNwYXRjaCgnRmVkTG9nT3V0JykudGhlbigoKSA9PiB7Ci8vICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOy8vIOS4uuS6humHjeaWsOWunuS+i+WMlnZ1ZS1yb3V0ZXLlr7nosaEg6YG/5YWNYnVnCi8vICAgICAgICAgICB9KTsKLy8gICAgICAgICB9KQovLyAgICAgICB9Ci8vICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnZXJyb3InKTsKLy8gICAgIH0gZWxzZSB7Ci8vICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwovLyAgICAgfQplcnJvciA9PiB7CiAgY29uc29sZS5sb2coJ2VycicgKyBlcnJvcik7IC8vIGZvciBkZWJ1ZwogIE1lc3NhZ2UoewogICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSwKICAgIHR5cGU6ICdlcnJvcicsCiAgICBkdXJhdGlvbjogNSAqIDEwMDAKICB9KTsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsKZXhwb3J0IGNvbnN0IGNyZWF0ZUFQSSA9ICh1cmwsIG1ldGhvZCwgZGF0YSkgPT4gewogIGNvbnN0IGNvbmZpZyA9IHt9OwogIGlmIChtZXRob2QgPT09ICdnZXQnKSB7CiAgICBjb25maWcucGFyYW1zID0gZGF0YTsKICB9IGVsc2UgewogICAgY29uZmlnLmRhdGEgPSBkYXRhOwogIH0KICByZXR1cm4gaW5zdGFuY2UoewogICAgdXJsLAogICAgbWV0aG9kLAogICAgLi4uY29uZmlnCiAgfSk7Cn07CmV4cG9ydCBjb25zdCBjcmVhdGVGb3JtQVBJID0gKHVybCwgbWV0aG9kLCBkYXRhKSA9PiB7CiAgY29uc3QgY29uZmlnID0ge307CiAgY29uZmlnLmRhdGEgPSBkYXRhOwogIGNvbmZpZy5oZWFkZXJzID0gewogICAgJ0NhY2hlLUNvbnRyb2wnOiAnbm8tY2FjaGUnLAogICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnCiAgfTsKICBjb25maWcucmVzcG9uc2VUeXBlID0gJ2pzb24nOwogIGNvbmZpZy50cmFuc2Zvcm1SZXF1ZXN0ID0gW2Z1bmN0aW9uIChkYXRhKSB7CiAgICBsZXQgcmV0ID0gJyc7CiAgICBmb3IgKGNvbnN0IGl0IGluIGRhdGEpIHsKICAgICAgcmV0ICs9IGVuY29kZVVSSUNvbXBvbmVudChpdCkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQoZGF0YVtpdF0pICsgJyYnOwogICAgfQogICAgcmV0dXJuIHJldDsKICB9XTsKICByZXR1cm4gaW5zdGFuY2UoewogICAgdXJsLAogICAgbWV0aG9kLAogICAgLi4uY29uZmlnCiAgfSk7Cn07"},{"version":3,"names":["axios","Message","store","getToken","instance","create","baseURL","timeout","interceptors","request","use","config","getters","token","headers","Authorization","error","console","log","Promise","reject","response","message","type","duration","createAPI","url","method","data","params","createFormAPI","responseType","transformRequest","ret","it","encodeURIComponent"],"sources":["C:/Users/cswnb/Desktop/团队实战2/黑马mm/新建文件夹/blackDonkey/src/utils/request.js"],"sourcesContent":["import axios from 'axios'\r\nimport { Message } from 'element-ui'\r\nimport store from '@/store'\r\nimport { getToken } from '@/utils/auth'\r\n\r\n// create an axios instance\r\nconst instance = axios.create({\r\n  baseURL: 'http://liufusong.top:7001/', // api的base_url \r\n  //  baseURL: 'http://hmmm-api.itheima.net/',\r\n  timeout: 5000 // request timeout\r\n})\r\n\r\n// request interceptor\r\ninstance.interceptors.request.use(\r\n  config => {\r\n    // Do something before request is sent\r\n    if (store.getters.token) {\r\n      config.headers.Authorization = `Bearer ${getToken()}` // 让每个请求携带token-- ['X-Token']为自定义key 请根据实际情况自行修改\r\n    }\r\n    return config\r\n  },\r\n  error => {\r\n    // Do something with request error\r\n    console.log(error) // for debug\r\n    Promise.reject(error)\r\n  }\r\n)\r\n\r\n// respone interceptor\r\ninstance.interceptors.response.use(\r\n  response => response,\r\n  /**\r\n   * 下面的注释为通过response自定义code来标示请求状态，当code返回如下情况为权限有问题，登出并返回到登录页\r\n   * 如通过xmlhttprequest 状态码标识 逻辑可写在下面error中\r\n   */\r\n  //  const res = response.data;\r\n  //     if (res.code !== 20000) {\r\n  //       Message({\r\n  //         message: res.message,\r\n  //         type: 'error',\r\n  //         duration: 5 * 1000\r\n  //       });\r\n  //       // 50008:非法的token; 50012:其他客户端登录了;  50014:Token 过期了;\r\n  //       if (res.code === 50008 || res.code === 50012 || res.code === 50014) {\r\n  //         MessageBox.confirm('你已被登出，可以取消继续留在该页面，或者重新登录', '确定登出', {\r\n  //           confirmButtonText: '重新登录',\r\n  //           cancelButtonText: '取消',\r\n  //           type: 'warning'\r\n  //         }).then(() => {\r\n  //           store.dispatch('FedLogOut').then(() => {\r\n  //             location.reload();// 为了重新实例化vue-router对象 避免bug\r\n  //           });\r\n  //         })\r\n  //       }\r\n  //       return Promise.reject('error');\r\n  //     } else {\r\n  //       return response.data;\r\n  //     }\r\n  error => {\r\n    console.log('err' + error) // for debug\r\n    Message({\r\n      message: error.message,\r\n      type: 'error',\r\n      duration: 5 * 1000\r\n    })\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\nexport const createAPI = (url, method, data) => {\r\n  const config = {}\r\n  if (method === 'get') {\r\n    config.params = data\r\n  } else {\r\n    config.data = data\r\n  }\r\n  return instance({\r\n    url,\r\n    method,\r\n    ...config\r\n  })\r\n}\r\n\r\nexport const createFormAPI = (url, method, data) => {\r\n  const config = {}\r\n  config.data = data\r\n  config.headers = {\r\n    'Cache-Control': 'no-cache',\r\n    'Content-Type': 'application/x-www-form-urlencoded'\r\n  }\r\n  config.responseType = 'json'\r\n  config.transformRequest = [\r\n    function (data) {\r\n      let ret = ''\r\n      for (const it in data) {\r\n        ret += encodeURIComponent(it) + '=' + encodeURIComponent(data[it]) + '&'\r\n      }\r\n      return ret\r\n    }\r\n  ]\r\n  return instance({\r\n    url,\r\n    method,\r\n    ...config\r\n  })\r\n}\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,QAAQ,YAAY;AACpC,OAAOC,KAAK,MAAM,SAAS;AAC3B,SAASC,QAAQ,QAAQ,cAAc;;AAEvC;AACA,MAAMC,QAAQ,GAAGJ,KAAK,CAACK,MAAM,CAAC;EAC5BC,OAAO,EAAE,4BAA4B;EAAE;EACvC;EACAC,OAAO,EAAE,IAAI,CAAC;AAChB,CAAC,CAAC;;AAEF;AACAH,QAAQ,CAACI,YAAY,CAACC,OAAO,CAACC,GAAG,CAC/BC,MAAM,IAAI;EACR;EACA,IAAIT,KAAK,CAACU,OAAO,CAACC,KAAK,EAAE;IACvBF,MAAM,CAACG,OAAO,CAACC,aAAa,GAAI,UAASZ,QAAQ,EAAG,EAAC,EAAC;EACxD;;EACA,OAAOQ,MAAM;AACf,CAAC,EACDK,KAAK,IAAI;EACP;EACAC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,EAAC;EACnBG,OAAO,CAACC,MAAM,CAACJ,KAAK,CAAC;AACvB,CAAC,CACF;;AAED;AACAZ,QAAQ,CAACI,YAAY,CAACa,QAAQ,CAACX,GAAG,CAChCW,QAAQ,IAAIA,QAAQ;AACpB;AACF;AACA;AACA;AACE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAL,KAAK,IAAI;EACPC,OAAO,CAACC,GAAG,CAAC,KAAK,GAAGF,KAAK,CAAC,EAAC;EAC3Bf,OAAO,CAAC;IACNqB,OAAO,EAAEN,KAAK,CAACM,OAAO;IACtBC,IAAI,EAAE,OAAO;IACbC,QAAQ,EAAE,CAAC,GAAG;EAChB,CAAC,CAAC;EACF,OAAOL,OAAO,CAACC,MAAM,CAACJ,KAAK,CAAC;AAC9B,CAAC,CACF;AAED,OAAO,MAAMS,SAAS,GAAG,CAACC,GAAG,EAAEC,MAAM,EAAEC,IAAI,KAAK;EAC9C,MAAMjB,MAAM,GAAG,CAAC,CAAC;EACjB,IAAIgB,MAAM,KAAK,KAAK,EAAE;IACpBhB,MAAM,CAACkB,MAAM,GAAGD,IAAI;EACtB,CAAC,MAAM;IACLjB,MAAM,CAACiB,IAAI,GAAGA,IAAI;EACpB;EACA,OAAOxB,QAAQ,CAAC;IACdsB,GAAG;IACHC,MAAM;IACN,GAAGhB;EACL,CAAC,CAAC;AACJ,CAAC;AAED,OAAO,MAAMmB,aAAa,GAAG,CAACJ,GAAG,EAAEC,MAAM,EAAEC,IAAI,KAAK;EAClD,MAAMjB,MAAM,GAAG,CAAC,CAAC;EACjBA,MAAM,CAACiB,IAAI,GAAGA,IAAI;EAClBjB,MAAM,CAACG,OAAO,GAAG;IACf,eAAe,EAAE,UAAU;IAC3B,cAAc,EAAE;EAClB,CAAC;EACDH,MAAM,CAACoB,YAAY,GAAG,MAAM;EAC5BpB,MAAM,CAACqB,gBAAgB,GAAG,CACxB,UAAUJ,IAAI,EAAE;IACd,IAAIK,GAAG,GAAG,EAAE;IACZ,KAAK,MAAMC,EAAE,IAAIN,IAAI,EAAE;MACrBK,GAAG,IAAIE,kBAAkB,CAACD,EAAE,CAAC,GAAG,GAAG,GAAGC,kBAAkB,CAACP,IAAI,CAACM,EAAE,CAAC,CAAC,GAAG,GAAG;IAC1E;IACA,OAAOD,GAAG;EACZ,CAAC,CACF;EACD,OAAO7B,QAAQ,CAAC;IACdsB,GAAG;IACHC,MAAM;IACN,GAAGhB;EACL,CAAC,CAAC;AACJ,CAAC"}]}