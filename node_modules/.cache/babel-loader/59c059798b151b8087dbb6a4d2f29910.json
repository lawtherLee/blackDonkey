{"remainingRequest":"C:\\Users\\cswnb\\Desktop\\团队实战2\\黑马mm\\新建文件夹\\blackDonkey\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\cswnb\\Desktop\\团队实战2\\黑马mm\\新建文件夹\\blackDonkey\\src\\utils\\request.js","dependencies":[{"path":"C:\\Users\\cswnb\\Desktop\\团队实战2\\黑马mm\\新建文件夹\\blackDonkey\\src\\utils\\request.js","mtime":1665890634876},{"path":"C:\\Users\\cswnb\\Desktop\\团队实战2\\黑马mm\\新建文件夹\\blackDonkey\\babel.config.js","mtime":1665624703491},{"path":"C:\\Users\\cswnb\\Desktop\\团队实战2\\黑马mm\\新建文件夹\\blackDonkey\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662199364782},{"path":"C:\\Users\\cswnb\\Desktop\\团队实战2\\黑马mm\\新建文件夹\\blackDonkey\\node_modules\\babel-loader\\lib\\index.js","mtime":1661002960898}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgTWVzc2FnZSB9IGZyb20gJ2VsZW1lbnQtdWknOwppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZSc7CmltcG9ydCB7IGdldFRva2VuIH0gZnJvbSAnQC91dGlscy9hdXRoJzsKCi8vIGNyZWF0ZSBhbiBheGlvcyBpbnN0YW5jZQpjb25zdCBpbnN0YW5jZSA9IGF4aW9zLmNyZWF0ZSh7CiAgYmFzZVVSTDogJ2h0dHA6Ly9saXVmdXNvbmcudG9wOjcwMDEvJywKICAvLyBhcGnnmoRiYXNlX3VybAogIHRpbWVvdXQ6IDUwMDAgLy8gcmVxdWVzdCB0aW1lb3V0Cn0pOwoKLy8gcmVxdWVzdCBpbnRlcmNlcHRvcgppbnN0YW5jZS5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoY29uZmlnID0+IHsKICAvLyBEbyBzb21ldGhpbmcgYmVmb3JlIHJlcXVlc3QgaXMgc2VudAogIGlmIChzdG9yZS5nZXR0ZXJzLnRva2VuKSB7CiAgICBjb25maWcuaGVhZGVycy5BdXRob3JpemF0aW9uID0gYEJlYXJlciAke2dldFRva2VuKCl9YDsgLy8g6K6p5q+P5Liq6K+35rGC5pC65bimdG9rZW4tLSBbJ1gtVG9rZW4nXeS4uuiHquWumuS5iWtleSDor7fmoLnmja7lrp7pmYXmg4XlhrXoh6rooYzkv67mlLkKICB9CgogIHJldHVybiBjb25maWc7Cn0sIGVycm9yID0+IHsKICAvLyBEbyBzb21ldGhpbmcgd2l0aCByZXF1ZXN0IGVycm9yCiAgY29uc29sZS5sb2coZXJyb3IpOyAvLyBmb3IgZGVidWcKICBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOwoKLy8gcmVzcG9uZSBpbnRlcmNlcHRvcgppbnN0YW5jZS5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKHJlc3BvbnNlID0+IHJlc3BvbnNlLAovKioNCiAqIOS4i+mdoueahOazqOmHiuS4uumAmui/h3Jlc3BvbnNl6Ieq5a6a5LmJY29kZeadpeagh+ekuuivt+axgueKtuaAge+8jOW9k2NvZGXov5Tlm57lpoLkuIvmg4XlhrXkuLrmnYPpmZDmnInpl67popjvvIznmbvlh7rlubbov5Tlm57liLDnmbvlvZXpobUNCiAqIOWmgumAmui/h3htbGh0dHByZXF1ZXN0IOeKtuaAgeeggeagh+ivhiDpgLvovpHlj6/lhpnlnKjkuIvpnaJlcnJvcuS4rQ0KICovCi8vICBjb25zdCByZXMgPSByZXNwb25zZS5kYXRhOwovLyAgICAgaWYgKHJlcy5jb2RlICE9PSAyMDAwMCkgewovLyAgICAgICBNZXNzYWdlKHsKLy8gICAgICAgICBtZXNzYWdlOiByZXMubWVzc2FnZSwKLy8gICAgICAgICB0eXBlOiAnZXJyb3InLAovLyAgICAgICAgIGR1cmF0aW9uOiA1ICogMTAwMAovLyAgICAgICB9KTsKLy8gICAgICAgLy8gNTAwMDg66Z2e5rOV55qEdG9rZW47IDUwMDEyOuWFtuS7luWuouaIt+err+eZu+W9leS6hjsgIDUwMDE0OlRva2VuIOi/h+acn+S6hjsKLy8gICAgICAgaWYgKHJlcy5jb2RlID09PSA1MDAwOCB8fCByZXMuY29kZSA9PT0gNTAwMTIgfHwgcmVzLmNvZGUgPT09IDUwMDE0KSB7Ci8vICAgICAgICAgTWVzc2FnZUJveC5jb25maXJtKCfkvaDlt7Looqvnmbvlh7rvvIzlj6/ku6Xlj5bmtojnu6fnu63nlZnlnKjor6XpobXpnaLvvIzmiJbogIXph43mlrDnmbvlvZUnLCAn56Gu5a6a55m75Ye6JywgewovLyAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfph43mlrDnmbvlvZUnLAovLyAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCi8vICAgICAgICAgICB0eXBlOiAnd2FybmluZycKLy8gICAgICAgICB9KS50aGVuKCgpID0+IHsKLy8gICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKCdGZWRMb2dPdXQnKS50aGVuKCgpID0+IHsKLy8gICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7Ly8g5Li65LqG6YeN5paw5a6e5L6L5YyWdnVlLXJvdXRlcuWvueixoSDpgb/lhY1idWcKLy8gICAgICAgICAgIH0pOwovLyAgICAgICAgIH0pCi8vICAgICAgIH0KLy8gICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdlcnJvcicpOwovLyAgICAgfSBlbHNlIHsKLy8gICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7Ci8vICAgICB9CmVycm9yID0+IHsKICBjb25zb2xlLmxvZygnZXJyJyArIGVycm9yKTsgLy8gZm9yIGRlYnVnCiAgTWVzc2FnZSh7CiAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLAogICAgdHlwZTogJ2Vycm9yJywKICAgIGR1cmF0aW9uOiA1ICogMTAwMAogIH0pOwogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOwpleHBvcnQgY29uc3QgY3JlYXRlQVBJID0gKHVybCwgbWV0aG9kLCBkYXRhKSA9PiB7CiAgY29uc3QgY29uZmlnID0ge307CiAgaWYgKG1ldGhvZCA9PT0gJ2dldCcpIHsKICAgIGNvbmZpZy5wYXJhbXMgPSBkYXRhOwogIH0gZWxzZSB7CiAgICBjb25maWcuZGF0YSA9IGRhdGE7CiAgfQogIHJldHVybiBpbnN0YW5jZSh7CiAgICB1cmwsCiAgICBtZXRob2QsCiAgICAuLi5jb25maWcKICB9KTsKfTsKZXhwb3J0IGNvbnN0IGNyZWF0ZUZvcm1BUEkgPSAodXJsLCBtZXRob2QsIGRhdGEpID0+IHsKICBjb25zdCBjb25maWcgPSB7fTsKICBjb25maWcuZGF0YSA9IGRhdGE7CiAgY29uZmlnLmhlYWRlcnMgPSB7CiAgICAnQ2FjaGUtQ29udHJvbCc6ICduby1jYWNoZScsCiAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcKICB9OwogIGNvbmZpZy5yZXNwb25zZVR5cGUgPSAnanNvbic7CiAgY29uZmlnLnRyYW5zZm9ybVJlcXVlc3QgPSBbZnVuY3Rpb24gKGRhdGEpIHsKICAgIGxldCByZXQgPSAnJzsKICAgIGZvciAoY29uc3QgaXQgaW4gZGF0YSkgewogICAgICByZXQgKz0gZW5jb2RlVVJJQ29tcG9uZW50KGl0KSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudChkYXRhW2l0XSkgKyAnJic7CiAgICB9CiAgICByZXR1cm4gcmV0OwogIH1dOwogIHJldHVybiBpbnN0YW5jZSh7CiAgICB1cmwsCiAgICBtZXRob2QsCiAgICAuLi5jb25maWcKICB9KTsKfTs="},{"version":3,"names":["axios","Message","store","getToken","instance","create","baseURL","timeout","interceptors","request","use","config","getters","token","headers","Authorization","error","console","log","Promise","reject","response","message","type","duration","createAPI","url","method","data","params","createFormAPI","responseType","transformRequest","ret","it","encodeURIComponent"],"sources":["C:/Users/cswnb/Desktop/团队实战2/黑马mm/新建文件夹/blackDonkey/src/utils/request.js"],"sourcesContent":["import axios from 'axios'\r\nimport { Message } from 'element-ui'\r\nimport store from '@/store'\r\nimport { getToken } from '@/utils/auth'\r\n\r\n// create an axios instance\r\nconst instance = axios.create({\r\n  baseURL: 'http://liufusong.top:7001/', // api的base_url\r\n  timeout: 5000 // request timeout\r\n})\r\n\r\n// request interceptor\r\ninstance.interceptors.request.use(\r\n  config => {\r\n    // Do something before request is sent\r\n    if (store.getters.token) {\r\n      config.headers.Authorization = `Bearer ${getToken()}` // 让每个请求携带token-- ['X-Token']为自定义key 请根据实际情况自行修改\r\n    }\r\n    return config\r\n  },\r\n  error => {\r\n    // Do something with request error\r\n    console.log(error) // for debug\r\n    Promise.reject(error)\r\n  }\r\n)\r\n\r\n// respone interceptor\r\ninstance.interceptors.response.use(\r\n  response => response,\r\n  /**\r\n   * 下面的注释为通过response自定义code来标示请求状态，当code返回如下情况为权限有问题，登出并返回到登录页\r\n   * 如通过xmlhttprequest 状态码标识 逻辑可写在下面error中\r\n   */\r\n  //  const res = response.data;\r\n  //     if (res.code !== 20000) {\r\n  //       Message({\r\n  //         message: res.message,\r\n  //         type: 'error',\r\n  //         duration: 5 * 1000\r\n  //       });\r\n  //       // 50008:非法的token; 50012:其他客户端登录了;  50014:Token 过期了;\r\n  //       if (res.code === 50008 || res.code === 50012 || res.code === 50014) {\r\n  //         MessageBox.confirm('你已被登出，可以取消继续留在该页面，或者重新登录', '确定登出', {\r\n  //           confirmButtonText: '重新登录',\r\n  //           cancelButtonText: '取消',\r\n  //           type: 'warning'\r\n  //         }).then(() => {\r\n  //           store.dispatch('FedLogOut').then(() => {\r\n  //             location.reload();// 为了重新实例化vue-router对象 避免bug\r\n  //           });\r\n  //         })\r\n  //       }\r\n  //       return Promise.reject('error');\r\n  //     } else {\r\n  //       return response.data;\r\n  //     }\r\n  error => {\r\n    console.log('err' + error) // for debug\r\n    Message({\r\n      message: error.message,\r\n      type: 'error',\r\n      duration: 5 * 1000\r\n    })\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\nexport const createAPI = (url, method, data) => {\r\n  const config = {}\r\n  if (method === 'get') {\r\n    config.params = data\r\n  } else {\r\n    config.data = data\r\n  }\r\n  return instance({\r\n    url,\r\n    method,\r\n    ...config\r\n  })\r\n}\r\n\r\nexport const createFormAPI = (url, method, data) => {\r\n  const config = {}\r\n  config.data = data\r\n  config.headers = {\r\n    'Cache-Control': 'no-cache',\r\n    'Content-Type': 'application/x-www-form-urlencoded'\r\n  }\r\n  config.responseType = 'json'\r\n  config.transformRequest = [\r\n    function (data) {\r\n      let ret = ''\r\n      for (const it in data) {\r\n        ret += encodeURIComponent(it) + '=' + encodeURIComponent(data[it]) + '&'\r\n      }\r\n      return ret\r\n    }\r\n  ]\r\n  return instance({\r\n    url,\r\n    method,\r\n    ...config\r\n  })\r\n}\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,QAAQ,YAAY;AACpC,OAAOC,KAAK,MAAM,SAAS;AAC3B,SAASC,QAAQ,QAAQ,cAAc;;AAEvC;AACA,MAAMC,QAAQ,GAAGJ,KAAK,CAACK,MAAM,CAAC;EAC5BC,OAAO,EAAE,4BAA4B;EAAE;EACvCC,OAAO,EAAE,IAAI,CAAC;AAChB,CAAC,CAAC;;AAEF;AACAH,QAAQ,CAACI,YAAY,CAACC,OAAO,CAACC,GAAG,CAC/BC,MAAM,IAAI;EACR;EACA,IAAIT,KAAK,CAACU,OAAO,CAACC,KAAK,EAAE;IACvBF,MAAM,CAACG,OAAO,CAACC,aAAa,GAAI,UAASZ,QAAQ,EAAG,EAAC,EAAC;EACxD;;EACA,OAAOQ,MAAM;AACf,CAAC,EACDK,KAAK,IAAI;EACP;EACAC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,EAAC;EACnBG,OAAO,CAACC,MAAM,CAACJ,KAAK,CAAC;AACvB,CAAC,CACF;;AAED;AACAZ,QAAQ,CAACI,YAAY,CAACa,QAAQ,CAACX,GAAG,CAChCW,QAAQ,IAAIA,QAAQ;AACpB;AACF;AACA;AACA;AACE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAL,KAAK,IAAI;EACPC,OAAO,CAACC,GAAG,CAAC,KAAK,GAAGF,KAAK,CAAC,EAAC;EAC3Bf,OAAO,CAAC;IACNqB,OAAO,EAAEN,KAAK,CAACM,OAAO;IACtBC,IAAI,EAAE,OAAO;IACbC,QAAQ,EAAE,CAAC,GAAG;EAChB,CAAC,CAAC;EACF,OAAOL,OAAO,CAACC,MAAM,CAACJ,KAAK,CAAC;AAC9B,CAAC,CACF;AAED,OAAO,MAAMS,SAAS,GAAG,CAACC,GAAG,EAAEC,MAAM,EAAEC,IAAI,KAAK;EAC9C,MAAMjB,MAAM,GAAG,CAAC,CAAC;EACjB,IAAIgB,MAAM,KAAK,KAAK,EAAE;IACpBhB,MAAM,CAACkB,MAAM,GAAGD,IAAI;EACtB,CAAC,MAAM;IACLjB,MAAM,CAACiB,IAAI,GAAGA,IAAI;EACpB;EACA,OAAOxB,QAAQ,CAAC;IACdsB,GAAG;IACHC,MAAM;IACN,GAAGhB;EACL,CAAC,CAAC;AACJ,CAAC;AAED,OAAO,MAAMmB,aAAa,GAAG,CAACJ,GAAG,EAAEC,MAAM,EAAEC,IAAI,KAAK;EAClD,MAAMjB,MAAM,GAAG,CAAC,CAAC;EACjBA,MAAM,CAACiB,IAAI,GAAGA,IAAI;EAClBjB,MAAM,CAACG,OAAO,GAAG;IACf,eAAe,EAAE,UAAU;IAC3B,cAAc,EAAE;EAClB,CAAC;EACDH,MAAM,CAACoB,YAAY,GAAG,MAAM;EAC5BpB,MAAM,CAACqB,gBAAgB,GAAG,CACxB,UAAUJ,IAAI,EAAE;IACd,IAAIK,GAAG,GAAG,EAAE;IACZ,KAAK,MAAMC,EAAE,IAAIN,IAAI,EAAE;MACrBK,GAAG,IAAIE,kBAAkB,CAACD,EAAE,CAAC,GAAG,GAAG,GAAGC,kBAAkB,CAACP,IAAI,CAACM,EAAE,CAAC,CAAC,GAAG,GAAG;IAC1E;IACA,OAAOD,GAAG;EACZ,CAAC,CACF;EACD,OAAO7B,QAAQ,CAAC;IACdsB,GAAG;IACHC,MAAM;IACN,GAAGhB;EACL,CAAC,CAAC;AACJ,CAAC"}]}